\chapter{Testování}

% \begin{itemize}
%  \item Zpùsob, prùbìh a~vısledky testování.
%  \item Srovnání s~existujícími øešeními, pokud jsou známy.
% \end{itemize} 

\section{Uivatelské testování}
Uivatelské testování bylo provádìno za pøítomnosti kolegy z~projektového tımu a uivatele - testera, kterı byl ochoten vìnovat dvì hodiny svého èasu testování. Popis testování linuxové èásti byl zde vypuštìn.

\subsection{Zadání}
Uivatel mìl za úkol otestovat aplikaci v~nìkolika krocích:
\begin{enumerate}
 \item spuštìní serveru a pøipojení klientù pomocí skriptù, uivatel mìl k~dispozici textovı soubor \verb|readme.txt| s~informacemi o~spuštìní
 \item kontrola prùchodù všech módù Cisco IOS + testování nestandartních vstupù
 \item konfigurace rozhraní
 \item konfigurace statického pøekladu adres na poèítaèi \verb|cisco1| pro \verb|linux1|
 \item konfigurace dynamického pøekladu adres na poèítaèi \verb|cisco1| pro \verb|linux2|
\end{enumerate}

Na obrázku \ref{fig:testovani} je znázornìno zadání, které dostal uivatel. Uivatel postupoval dle zadanıch úkolù a pomocí tohoto obrázku konfiguroval sí.

\begin{figure}[h]
\begin{center}
\includegraphics[width=15cm]{figures/testovani}
\caption{Zadání sítì pro uivatelské testování}
\label{fig:testovani}
\end{center}
\end{figure}


\subsection{Prùbìh testování}
U~kadé objevené chyby bude vyznaèeno tuènım písmem implementované øešení problému èi alespoò komentáø s~vysvìtlením. 

\subsubsection{Úkol è.1 spuštìní serveru}
Uivatel byl znalı linuxu, a tak pro spuštìní serveru zkusil pøíkaz:
\begin{verbatim}
./start_server.sh --help
\end{verbatim}
Skript však reaguje pouze na spuštìní bez parametru a na parametr \verb|-h|. Tudí se spustil server s~konfiguraèním souborem \verb|--help| a vypsal chybu, e nelze nic naèíst z~takového konfiguraèního souboru.
\\\textbf{(volba --help pøidána)}

Uivatel zkusil spustit server na obsazeném portu. Aplikace vypsala nepøíliš jasnou chybovou hlášku.
\\\textbf{(chybová hláška upravena)}

Klientskı skript pro pøipojení k~serveru nevypsal chybovou hlášku, kdy nebyl specifikován port (pro virtuální poèítaè).
\\\textbf{(chybová hláška pøidána)}

\subsubsection{Úkol è.2 prùchod stavy IOS}
Server vypisuje rùzné dùleité (prùchod paketu - smìrování, pøeklad adres) informace. Server ale také vypisuje všechny pøijaté a odeslané pøíkazy, které èiní vıpis velmi nepøehlednım.
\\\textbf{(nedùleité vıpisy odstranìny)}

Uivatel zaznamenal, e pøi procházení historií pøíkazù (pomocí šipek nahoru a dolu) se nabízejí pøíkazy i z~jinıch terminálù - linux i cisco najednou. Navíc si pamatuje pøíkazy i po znovu spuštìní klienta.
\\\textbf{(daò za pouití programu tøetí strany)}

Pomocnı pøíkaz \verb|help| reps. \verb|help_en| není nikde v~\verb|readme.txt| zveøejnìn, take uivatel neznal podporované pøíkazy.
\\\textbf{(informace o~pøíkazu help pøidána do readme.txt)}

Uivatel našel bug\footnote{chyba v~programu} pøi pøechodu z~privilegovaného do konfiguraèního stavu. Pøi \\\verb|configure memory| se pøeplo cisco do \verb|configure terminal|.
\\\textbf{(chyba opravena)}

\subsubsection{Úkol è.3 nastavení rozhraní}
Pøi konfiguraci síovıch rozhraních se pøišlo na jednu závanou chybu. Pøi nastavování IP adresy zadal uivatel neplatnou masku a program vyhodil vıjimku.
\\\textbf{(zpracování chybnıch adres bylo pøi testování hotové, ale v~implementaci chybìl pøíkaz return pro vyskoèení z~metody pøi odchycení vıjimky; opraveno)}

\subsubsection{Úkol è.4 smìrování}
Konfigurace smìtovacích záznamù odhalila jednu chybu èi spíše \uv{nedodìlek}. Spuštìnı pøíkaz \verb|ping| bez parametrù nedìlá vùbec nic (ádná chybová hláška ani správna funkcionalita).
\\\textbf{(ping bez parametrù vypíše vysvìtlující informaci)}

\subsubsection{Úkol è.5 statickı NAT}
Do zadání statického NATu byla pøedem vloena chyba, aby se oveøilo, zda se aplikace bude správnì chovat. Adresa \verb|192.168.1.1| se mìla pøeloit na \verb|10.0.0.10|, ta ale nespadá do sítì è.3, a tak \verb|cisco2| nevìdìlo, kam má paket s~odpovìdí poslat.

Po zmìnì statického pravidla na záznam \verb|192.168.1.1| na \verb|10.0.0.6| (poslední volná IP adresa sítì è.3) u pakety bez problému došly.

\subsubsection{Úkol è.6 dynamickı NAT}
Uivatel zkoušel postupnì pøidávat pravidla pro access-list a pool. Spuštìnı pøíkaz \\\verb|access-list| bez parametrù mìl vypsat hlášku \verb|Incomplete Command.|, ale nic nevypsal.
\\\textbf{(pøidán vıpis do parseru pøíkazu)}

Po nakonfigurování dynamického pøekladu adres zkoušel uivatel dostupnost jednotlivıch poèítaèù pøes pøíkaz \verb|ping|. Uivatel pøidal do linuxovıch poèítaèù defaultní smìrovací záznamy na \verb|cisco2|. Do routovací tabulky na \verb|cisco2| se vùbec nezasahovalo (vyjma automaticky nastaveného záznamu na rozhraní). Pøíkazem ping byla ovìøena dostupnost \verb|cisco2| z~obou linuxovıch poèítaèù. Naopak \verb|ping 10.0.0.5| z~\verb|cisco2| nezafungoval, protoe \verb|linux1| je skryt za NATem a paket by musel bıt odeslán se správnım portem z~NAT tabulky. Cisco IOS u~pøíkazu \verb|ping| neumoòuje mìnit èíslo portu u~odesílaného paketu.


%\\\textbf{()}

\subsection{Shrnutí}
Z~poètu chyb lze jasnì vyvodit, e uivatelské testování urèitì smysl má. Vìtšinu objevenıch chyb tvoøí rùzné chyby èi odchylky v~parserech.





\section{Zátìové testy}\label{zatezove_testy}

\subsection{Návrh}

\subsection{Vısledky}

